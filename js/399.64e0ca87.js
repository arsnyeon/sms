"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[399],{2399:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var r=function(){var e=this,s=e._self._c;return s("div",[s("div",{staticClass:"loginbox"},[s("div",{staticClass:"loginmain"},[s("span",{staticClass:"title"},[e._v("用户注册")]),s("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.registerForm,rules:e.rules,"label-width":"30%"}},[s("el-form-item",{staticStyle:{width:"240px"},attrs:{label:"账号",prop:"username"}},[s("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.registerForm.username,callback:function(s){e.$set(e.registerForm,"username",s)},expression:"registerForm.username"}})],1),s("el-form-item",{staticStyle:{width:"240px"},attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(s){e.$set(e.registerForm,"password",s)},expression:"registerForm.password"}})],1),s("el-form-item",{staticClass:"btn-ground"},[s("el-button",{staticClass:"btn-one",attrs:{type:"success",round:""},on:{click:function(s){return e.submitForm("registerForm")}}},[e._v("立即注册")])],1),s("el-form-item",{staticClass:"btn-ground"},[s("el-button",{staticClass:"btn-two",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.toLogin}},[e._v("返回登录")]),s("el-button",{staticClass:"btn-two",attrs:{type:"warning",plain:"",size:"small"},on:{click:function(s){return e.resetForm("registerForm")}}},[e._v("清空输入 ")])],1)],1)],1)])])},a=[],i=(t(901),t(585)),o={name:"MobileRegister",data(){return{registerForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:1,max:12,message:"长度在 6 到 12 个字符的账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:16,message:"长度在 6 到 16 个字符的密码",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;(0,i.Mv)(this.registerForm).then((e=>{let s=e.message;200==e.code?(window.localStorage.setItem("token",e.token),window.localStorage.setItem("userInfo",JSON.stringify(e.data)),this.$message.success(s),this.$router.push({path:`/user/${e.data.id}`,params:{id:e.data.id}})):this.$message.error(s)}))}))},toLogin(){this.$router.push({path:"/login"})},resetForm(e){this.$refs[e].resetFields(),this.$message.success("主人，已清空~")}},created(){this.$message.success("注册个账号吧，用不到两年半")}},l=o,n=t(2349),m=(0,n.Z)(l,r,a,!1,null,"006970d2",null),u=m.exports}}]);