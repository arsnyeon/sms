"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[7],{4445:function(e,t,s){s.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"敏感词替换预览",visible:e.replaceVisible,width:"90%","append-to-body":!0,"custom-class":"replacedialog"},on:{"update:visible":function(t){e.replaceVisible=t}}},[t("div",{staticClass:"main"},[t("p",[e._v("当前含有违禁词："+e._s(e.Replacecontent[2])+"个")]),t("p",[e._v("违禁词为："),t("span",{staticStyle:{color:"red"}},[e._v(e._s(e.Replacecontent[3]))])]),t("div",{staticClass:"card"},[t("div",{staticClass:"top"},[t("div",{staticClass:"title"},[e._v("您输入的文本为:")])]),t("div",{staticClass:"content"},[t("div",[e._v(e._s(e.Replacecontent[0]))])])]),t("div",{staticClass:"card"},[t("div",{staticClass:"top"},[t("div",{staticClass:"title"},[e._v("过滤后的文本为:")])]),t("div",{staticClass:"content"},[t("div",[e._v(e._s(e.Replacecontent[1]))])])])])])},i=[],l=s(9415),r=s(4193),n={name:"MobileReplace",data(){return{bURL:l.Z.imgurl,replaceVisible:!1,replace:""}},computed:{...(0,r.rn)({Replacecontent:e=>e.Replacecontent.Replacecontent})},methods:{init(e){this.replaceVisible=!0,console.log(e);const t={content:e};this.$store.dispatch("Replacecontent",{content:t})}}},o=n,c=s(2349),u=(0,c.Z)(o,a,i,!1,null,"ffb32ebc",null),p=u.exports},3007:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"cnm"},[e.replaceVisiable?t("MobileReplace",{ref:"replaceDialog"}):e._e(),t("div",{staticClass:"card"},[t("div",{staticClass:"card-content"},[t("el-form",{ref:"ruleF",staticClass:"demo-ruleForm noleft",attrs:{rules:e.rules,model:e.ruleForm,"label-width":"120px"}},[t("el-form-item",{staticClass:"phone",attrs:{prop:"phonenumber"}},[t("el-input",{attrs:{placeholder:"请输入目标手机号"},model:{value:e.ruleForm.phonenumber,callback:function(t){e.$set(e.ruleForm,"phonenumber",t)},expression:"ruleForm.phonenumber"}},[t("template",{slot:"prepend"},[t("i",{staticClass:"el-icon-phone-outline"})])],2)],1),t("div",{staticClass:"tex"},[t("div",{staticClass:"dot"},[t("img",{attrs:{src:s(9443),alt:""}})]),t("el-form-item",{attrs:{prop:"content"}},[t("el-input",{attrs:{type:"textarea",maxlength:"588","show-word-limit":"",rows:"4",autosize:{minRows:4,maxRows:10},placeholder:"请输入短信内容(违禁词过滤，请先预览查看再进行提交)"},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}},[t("template",{slot:"prepend"},[e._v("内容")])],2)],1),t("div",{staticClass:"tex-bottom"},[t("span",{staticClass:"preview",on:{click:function(t){return e.openReplaceDialog(e.ruleForm.content)}}},[e._v("违禁词检测")])])],1),t("el-form-item",[t("el-button",{staticClass:"cute-btn",on:{click:function(t){return e.submitForm("ruleF")}}},[e._v("提交审核")])],1)],1),e.previewVisiable?t("MobilePreview",{ref:"previewDialog"}):e._e()],1)])],1)])},i=[],l=(s(901),s(585)),r=s(4445),n={name:"UploadImage",components:{MobileReplace:r.Z},data(){return{previewVisiable:!1,replaceVisiable:!1,ruleForm:{phonenumber:"",content:""},rules:{phonenumber:[{required:!0,message:"请输入手机号码",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号码",trigger:"blur"},{pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/,message:"请输入正确的手机号码"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},methods:{openReplaceDialog(e){""!=e?(this.replaceVisiable=!0,this.$nextTick((()=>{this.$refs.replaceDialog.init(e)}))):this.$message.warning("请先输入内容")},submitForm(e){this.$refs[e].validate((t=>{t&&this.$confirm("是否确认提交审核?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.haha(e)})).catch((()=>{}))}))},haha(e){var t=localStorage.getItem("userInfo");this.ruleForm.userid=JSON.parse(t).id,(0,l._V)(this.ruleForm).then((e=>{console.log(e.data),200==e.code?(this.$message.success(e.message),this.$store.dispatch("Mysms",{id:this.$route.params.id}),this.$router.push({path:"/mysms"})):this.$message.error(e.message)}))},resetForm(e){this.$refs.uploadImg.clearFiles(),this.$refs[e].resetFields()},handleStatusChange(){this.ruleForm.external?(this.$message.success("上传至本地"),console.log(this.ruleForm.external)):(this.$message.warning("使用外链"),console.log(this.ruleForm.external))}}},o=n,c=s(2349),u=(0,c.Z)(o,a,i,!1,null,"27b0fbf8",null),p=u.exports},9443:function(e,t,s){e.exports=s.p+"img/hd.eba1be26.png"}}]);