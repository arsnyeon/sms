"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[205],{4205:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cdkeymainbox"},[t("div",{staticClass:"add",staticStyle:{"font-size":"24px"}},[e._v(" 添加卡密"),t("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.goAddCdkey()}}})]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.Cdkeyinfo.slice((e.currentPage1-1)*e.pageSize,e.currentPage1*e.pageSize),border:"","row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),t("el-table-column",{attrs:{prop:"keystr",label:"卡密"}}),t("el-table-column",{attrs:{prop:"value",label:"余额",width:"50"}}),t("el-table-column",{attrs:{prop:"create_time",label:"生成时间",width:"180"}}),t("el-table-column",{attrs:{prop:"userid",label:"使用人",width:"70"}}),t("el-table-column",{attrs:{prop:"use_time",label:"使用时间",width:"180"}}),t("el-table-column",{attrs:{label:"使用状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.row.use_status?t("span",[e._v("未使用")]):e._e(),1==a.row.use_status?t("span",[e._v("已使用")]):e._e()]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.doDD()}}},[e._v("待定")])]}}])})],1),t("div",{staticClass:"pa"},[t("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.currentPage1,"page-size":e.pageSize,"page-sizes":[9,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:e.CdkeyinfoLength,"pager-count:2":""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],l=(a(901),a(4193)),i=a(9415),o={name:"PcHome",components:{},data(){return{userdetailVisiable:!1,bURL:i.Z.imgurl,currentPage1:1,pageSize:9,ruleForm:{id:"",audit_status:""}}},mounted(){this.$store.dispatch("Cdkeyinfo")},activated(){},computed:{...(0,l.rn)({Cdkeyinfo:e=>e.Cdkeyinfo.Cdkeyinfo,CdkeyinfoLength:e=>e.Cdkeyinfo.Cdkeyinfo.length})},methods:{goAddCdkey(){this.$router.push({path:"/addcdkey"})},openUserdetailDialog(e){this.userdetailVisiable=!0,this.$nextTick((()=>{this.$refs.userdetailDialog.init(e)}))},handleSizeChange(e){console.log(`每页 ${e} 条`),console.log(e),this.pageSize=e},handleCurrentChange(e){console.log(`当前页: ${e}`),console.log(e),this.currentPage1=e},tableRowClassName:function({row:e,rowIndex:t}){if("1"!=e.use_status)return"success-row"},handleClick(e){this.ruleForm.id=e.id,this.ruleForm.audit_status=e.audit_status,this.$confirm("是否通过审核并执行发送短信?","提示",{customClass:"message-logout",confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.doDD(this.ruleForm)})).catch((()=>{}))},doDD(e){this.$message.warning("卡密修改，请直接操作数据库~")}}},r=o,u=a(2349),c=(0,u.Z)(r,s,n,!1,null,"680e78e4",null),d=c.exports}}]);